{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/thiago/Documentos/Projects/nlw/mobile/src/pages/CreateOrphanage/OrphanageData.tsx\";\nimport React, { useState } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Feather } from '@expo/vector-icons';\nimport { RectButton } from 'react-native-gesture-handler';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport * as ImagePicker from 'expo-image-picker';\nimport api from \"../../services/api\";\nexport default function OrphanageData() {\n  var _this = this;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      about = _useState4[0],\n      setAbout = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      whatsapp_number = _useState6[0],\n      setWhatsappNumber = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      instructions = _useState8[0],\n      setInstructions = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      opening_hours = _useState10[0],\n      setOpeningHours = _useState10[1];\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      open_on_weekends = _useState12[0],\n      setOpenOnWeekends = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      images = _useState14[0],\n      setImages = _useState14[1];\n\n  var navigation = useNavigation();\n  var route = useRoute();\n  var params = route.params;\n\n  function handleCreateOrphanage() {\n    var _params$position, latitude, longitude, data;\n\n    return _regeneratorRuntime.async(function handleCreateOrphanage$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _params$position = params.position, latitude = _params$position.latitude, longitude = _params$position.longitude;\n            data = new FormData();\n            data.append('name', name);\n            data.append('latitude', String(latitude));\n            data.append('longitude', String(longitude));\n            data.append('about', about);\n            data.append('whatsapp_number', whatsapp_number);\n            data.append('instructions', instructions);\n            data.append('opening_hours', opening_hours);\n            data.append('open_on_weekends', String(open_on_weekends));\n            images.forEach(function (image, index) {\n              data.append('images', {\n                name: \"image_\" + index + \".jpg\",\n                type: 'image/jpg',\n                uri: image\n              });\n            });\n            _context.next = 13;\n            return _regeneratorRuntime.awrap(api.post('orphanages', data));\n\n          case 13:\n            navigation.navigate('OrphanagesMap');\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function handleSelectImages() {\n    var _await$ImagePicker$re, status, result, image;\n\n    return _regeneratorRuntime.async(function handleSelectImages$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.requestCameraRollPermissionsAsync());\n\n          case 2:\n            _await$ImagePicker$re = _context2.sent;\n            status = _await$ImagePicker$re.status;\n\n            if (!(status !== \"granted\")) {\n              _context2.next = 7;\n              break;\n            }\n\n            alert('Eita, precisamos de acesso a suas fotos...');\n            return _context2.abrupt(\"return\");\n\n          case 7:\n            _context2.next = 9;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              allowsEditing: true,\n              quality: 1,\n              mediaTypes: ImagePicker.MediaTypeOptions.Images\n            }));\n\n          case 9:\n            result = _context2.sent;\n\n            if (!result.cancelled) {\n              _context2.next = 12;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 12:\n            image = result.uri;\n            setImages([].concat(_toConsumableArray(images), [image]));\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(ScrollView, {\n    style: styles.container,\n    contentContainerStyle: {\n      padding: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, \"Dados\"), React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, \"Nome\"), React.createElement(TextInput, {\n    style: styles.input,\n    value: name,\n    onChangeText: function onChangeText(text) {\n      return setName(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, \"Sobre\"), React.createElement(TextInput, {\n    style: [styles.input, {\n      height: 110\n    }],\n    multiline: true,\n    value: about,\n    onChangeText: function onChangeText(text) {\n      return setAbout(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, \"N\\xFAmero do Whatsapp\"), React.createElement(TextInput, {\n    style: styles.input,\n    value: whatsapp_number,\n    onChangeText: function onChangeText(text) {\n      return setWhatsappNumber(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, \"Fotos\"), React.createElement(View, {\n    style: styles.uploadedImagesContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, images.map(function (image) {\n    return React.createElement(Image, {\n      key: image,\n      source: {\n        uri: image\n      },\n      style: styles.uploadedImage,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    });\n  })), React.createElement(TouchableOpacity, {\n    style: styles.imagesInput,\n    onPress: handleSelectImages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, React.createElement(Feather, {\n    name: \"plus\",\n    size: 24,\n    color: \"#15B6D6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  })), React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, \"Visita\\xE7\\xE3o\"), React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, \"Instru\\xE7\\xF5es\"), React.createElement(TextInput, {\n    style: [styles.input, {\n      height: 110\n    }],\n    multiline: true,\n    value: instructions,\n    onChangeText: function onChangeText(text) {\n      return setInstructions(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, \"Horario de visitas\"), React.createElement(TextInput, {\n    style: styles.input,\n    value: opening_hours,\n    onChangeText: function onChangeText(text) {\n      return setOpeningHours(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.switchContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, \"Atende final de semana?\"), React.createElement(Switch, {\n    thumbColor: \"#fff\",\n    trackColor: {\n      false: '#ccc',\n      true: '#39CC83'\n    },\n    value: open_on_weekends,\n    onValueChange: setOpenOnWeekends,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  })), React.createElement(RectButton, {\n    style: styles.nextButton,\n    onPress: handleCreateOrphanage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.nextButtonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, \"Cadastrar\")));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  title: {\n    color: '#5c8599',\n    fontSize: 24,\n    fontFamily: 'Nunito_700Bold',\n    marginBottom: 32,\n    paddingBottom: 24,\n    borderBottomWidth: 0.8,\n    borderBottomColor: '#D3E2E6'\n  },\n  label: {\n    color: '#8fa7b3',\n    fontFamily: 'Nunito_600SemiBold',\n    marginBottom: 8\n  },\n  comment: {\n    fontSize: 11,\n    color: '#8fa7b3'\n  },\n  input: {\n    backgroundColor: '#fff',\n    borderWidth: 1.4,\n    borderColor: '#d3e2e6',\n    borderRadius: 20,\n    height: 56,\n    paddingVertical: 18,\n    paddingHorizontal: 24,\n    marginBottom: 16,\n    textAlignVertical: 'top'\n  },\n  uploadedImagesContainer: {\n    flexDirection: 'row'\n  },\n  uploadedImage: {\n    width: 64,\n    height: 64,\n    borderRadius: 20,\n    marginBottom: 32,\n    marginRight: 8\n  },\n  imagesInput: {\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    borderStyle: 'dashed',\n    borderColor: '#96D2F0',\n    borderWidth: 1.4,\n    borderRadius: 20,\n    height: 56,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 32\n  },\n  switchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: 16\n  },\n  nextButton: {\n    backgroundColor: '#15c3d6',\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 56,\n    marginTop: 32\n  },\n  nextButtonText: {\n    fontFamily: 'Nunito_800ExtraBold',\n    fontSize: 16,\n    color: '#FFF'\n  }\n});","map":{"version":3,"sources":["/home/thiago/Documentos/Projects/nlw/mobile/src/pages/CreateOrphanage/OrphanageData.tsx"],"names":["React","useState","Feather","RectButton","useNavigation","useRoute","ImagePicker","api","OrphanageData","name","setName","about","setAbout","whatsapp_number","setWhatsappNumber","instructions","setInstructions","opening_hours","setOpeningHours","open_on_weekends","setOpenOnWeekends","images","setImages","navigation","route","params","handleCreateOrphanage","position","latitude","longitude","data","FormData","append","String","forEach","image","index","type","uri","post","navigate","handleSelectImages","requestCameraRollPermissionsAsync","status","alert","launchImageLibraryAsync","allowsEditing","quality","mediaTypes","MediaTypeOptions","Images","result","cancelled","styles","container","padding","title","label","input","text","height","uploadedImagesContainer","map","uploadedImage","imagesInput","switchContainer","false","true","nextButton","nextButtonText","StyleSheet","create","flex","color","fontSize","fontFamily","marginBottom","paddingBottom","borderBottomWidth","borderBottomColor","comment","backgroundColor","borderWidth","borderColor","borderRadius","paddingVertical","paddingHorizontal","textAlignVertical","flexDirection","width","marginRight","borderStyle","justifyContent","alignItems","marginTop"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { ScrollView, View, StyleSheet, Switch, Text, TextInput, TouchableOpacity, Image } from 'react-native';\nimport { Feather } from '@expo/vector-icons';\nimport { RectButton } from 'react-native-gesture-handler';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport * as ImagePicker from 'expo-image-picker';\nimport api from '../../services/api';\n\ninterface OrphanageDataRouteParams {\n  position: {\n    latitude: number;\n    longitude: number;\n  }\n}\n\nexport default function OrphanageData() {\n  const [name, setName] = useState('');\n  const [about, setAbout] = useState('');\n  const [whatsapp_number, setWhatsappNumber] = useState('');\n  const [instructions, setInstructions] = useState('');\n  const [opening_hours, setOpeningHours] = useState('');\n  const [open_on_weekends, setOpenOnWeekends] = useState(true);\n  const [images, setImages] = useState<string[]>([]);\n\n  const navigation = useNavigation();\n  const route = useRoute();\n  const params = route.params as OrphanageDataRouteParams;\n\n  async function handleCreateOrphanage() {\n    const {latitude, longitude  } = params.position;\n\n    const data = new FormData();\n\n    data.append('name', name);\n    data.append('latitude', String(latitude));\n    data.append('longitude', String(longitude));\n    data.append('about', about);\n    data.append('whatsapp_number', whatsapp_number);\n    data.append('instructions', instructions);\n    data.append('opening_hours', opening_hours);\n    data.append('open_on_weekends', String(open_on_weekends));\n\n    images.forEach((image, index) => {\n      data.append('images', {\n        name: `image_${index}.jpg`,\n        type: 'image/jpg',\n        uri: image,\n      } as any)\n    })\n\n    await api.post('orphanages', data);\n\n    navigation.navigate('OrphanagesMap');\n  }\n\n  async function handleSelectImages() {\n    const { status } = await ImagePicker.requestCameraRollPermissionsAsync();\n\n    if(status !== \"granted\") {\n      alert('Eita, precisamos de acesso a suas fotos...')\n      return;\n    }\n\n    const result = await ImagePicker.launchImageLibraryAsync({\n      allowsEditing: true,\n      quality: 1,\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n    });\n\n    if (result.cancelled) {\n      return;\n    }\n\n    const { uri: image } = result;\n\n    setImages([...images, image]);\n  }\n  \n  return (\n    <ScrollView style={styles.container} contentContainerStyle={{ padding: 24 }}>\n      <Text style={styles.title}>Dados</Text>\n\n      <Text style={styles.label}>Nome</Text>\n      <TextInput\n        style={styles.input}\n        value={name}\n        onChangeText={text => setName(text)}\n      />\n\n      <Text style={styles.label}>Sobre</Text>\n      <TextInput\n        style={[styles.input, { height: 110 }]}\n        multiline\n        value={about}\n        onChangeText={text => setAbout(text)}\n      />\n\n      <Text style={styles.label}>Número do Whatsapp</Text>\n        <TextInput\n          style={styles.input}\n          value={whatsapp_number}\n          onChangeText={text => setWhatsappNumber(text)}\n      />\n\n      <Text style={styles.label}>Fotos</Text>\n\n      <View style={styles.uploadedImagesContainer}>\n        {images.map( image => {\n          return (\n            <Image\n              key={image}\n              source={{ uri: image}}\n              style={styles.uploadedImage}\n            />\n          );         \n        })}\n      </View>\n\n      <TouchableOpacity style={styles.imagesInput} onPress={handleSelectImages}>\n        <Feather name=\"plus\" size={24} color=\"#15B6D6\" />\n      </TouchableOpacity>\n\n      <Text style={styles.title}>Visitação</Text>\n\n      <Text style={styles.label}>Instruções</Text>\n      <TextInput\n        style={[styles.input, { height: 110 }]}\n        multiline\n        value={instructions}\n        onChangeText={text => setInstructions(text)}\n      />\n\n      <Text style={styles.label}>Horario de visitas</Text>\n      <TextInput\n        style={styles.input}\n        value={opening_hours}\n        onChangeText={text => setOpeningHours(text)}\n      />\n\n      <View style={styles.switchContainer}>\n        <Text style={styles.label}>Atende final de semana?</Text>\n        <Switch \n          thumbColor=\"#fff\" \n          trackColor={{ false: '#ccc', true: '#39CC83' }}\n          value={open_on_weekends}\n          onValueChange={setOpenOnWeekends}\n        />\n      </View>\n\n      <RectButton style={styles.nextButton} onPress={handleCreateOrphanage}>\n        <Text style={styles.nextButtonText}>Cadastrar</Text>\n      </RectButton>\n    </ScrollView>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n\n  title: {\n    color: '#5c8599',\n    fontSize: 24,\n    fontFamily: 'Nunito_700Bold',\n    marginBottom: 32,\n    paddingBottom: 24,\n    borderBottomWidth: 0.8,\n    borderBottomColor: '#D3E2E6'\n  },\n\n  label: {\n    color: '#8fa7b3',\n    fontFamily: 'Nunito_600SemiBold',\n    marginBottom: 8,\n  },\n\n  comment: {\n    fontSize: 11,\n    color: '#8fa7b3',\n  },\n\n  input: {\n    backgroundColor: '#fff',\n    borderWidth: 1.4,\n    borderColor: '#d3e2e6',\n    borderRadius: 20,\n    height: 56,\n    paddingVertical: 18,\n    paddingHorizontal: 24,\n    marginBottom: 16,\n    textAlignVertical: 'top',\n  },\n\n  uploadedImagesContainer: {\n    flexDirection: 'row',\n  },\n\n  uploadedImage: {\n    width: 64,\n    height: 64,\n    borderRadius: 20,\n    marginBottom: 32,\n    marginRight: 8,\n  },\n\n  imagesInput: {\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    borderStyle: 'dashed',\n    borderColor: '#96D2F0',\n    borderWidth: 1.4,\n    borderRadius: 20,\n    height: 56,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 32,\n  },\n\n  switchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: 16,\n  },\n\n  nextButton: {\n    backgroundColor: '#15c3d6',\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 56,\n    marginTop: 32,\n  },\n\n  nextButtonText: {\n    fontFamily: 'Nunito_800ExtraBold',\n    fontSize: 16,\n    color: '#FFF',\n  }\n})"]},"metadata":{},"sourceType":"module"}